<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Live PDF Classroom</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
:root {
  --accent:#b00b55;
  --bg:#0e0e11;
  --panel:#16161b;
  --border:#2a2a33;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:var(--bg);
  color:#fff;
  font-family:system-ui,sans-serif;
  overflow:hidden;
}

header{
  height:60px;
  background:var(--panel);
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
  gap:8px;
  padding:0 12px;
}

button,input,select{
  background:#1f1f26;
  color:#fff;
  border:1px solid var(--border);
  border-radius:8px;
  padding:6px 10px;
}

button.primary{background:var(--accent);border-color:var(--accent)}
button.tool.active{outline:2px solid var(--accent)}
.spacer{flex:1}

#viewer{
  position:absolute;
  top:60px;bottom:0;left:0;right:0;
  overflow:auto;
  padding:20px;
}

.page{position:relative;margin:0 auto 30px;width:fit-content}
canvas{display:block;border-radius:10px;border:1px solid var(--border)}
.overlay{position:absolute;top:0;left:0}

.toolbar{
  position:fixed;
  right:20px;bottom:20px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:10px;
  display:none;
  flex-direction:column;
  gap:8px;
}

.color-palette{display:flex;gap:6px;justify-content:center}
.color-swatch{
  width:22px;height:22px;border-radius:50%;
  border:2px solid var(--border);
  cursor:pointer;
}
.color-swatch.active{
  border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(176,11,85,.4)
}

.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
}
.modal-content{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  width:420px;
  max-height:80vh;
  overflow:auto;
}
.setting-row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.hidden{display:none!important}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

<header>
  <strong>Live PDF Classroom</strong>

  <div id="lobby">
    <button id="createRoom" class="primary">Create</button>
    <input id="roomInput" placeholder="Room code" />
    <button id="joinRoom">Join</button>
  </div>

  <span id="roomLabel" class="hidden"></span>
  <div class="spacer"></div>
  <button id="uploadBtn" class="primary hidden">Upload PDF</button>
</header>

<input id="pdfUpload" type="file" accept="application/pdf" hidden />
<div id="viewer"></div>

<div class="toolbar" id="toolbar">
  <div class="color-palette" id="palette"></div>
  <button id="pen" class="tool active">‚úèÔ∏è</button>
  <button id="eraser" class="tool">üßΩ</button>
  <input id="colorPicker" type="color" />
  <button id="settingsBtn">‚öô</button>
</div>

<div class="modal" id="settingsModal">
  <div class="modal-content">
    <h3>Keybinds</h3>
    <div id="settingsList"></div>
    <button id="closeSettings">Close</button>
  </div>
</div>

<script type="module" src="./main.js"></script>
</body>
</html>
